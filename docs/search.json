[
  {
    "objectID": "workbench.html",
    "href": "workbench.html",
    "title": "STV1020",
    "section": "",
    "text": "√Öpne nettleseren din og g√• til https://rstudio-workbench.uio.no/\nVelg Universitetet i Oslo/University of Oslo under tilknytning/affiliation.\n\n\n\nLogg inn med brukernavn og passord fra UiO.\n\n\n\nTrykk p√• ‚Äú+ New Session‚Äù.\n\n\n\nVelg STV1020-varianten under ‚ÄúImage‚Äù og trykk ‚ÄúStart session‚Äù. Du kan ogs√• velge √• gi sesjonen et eget navn under ‚ÄúSession Name‚Äù.\n\n\n\nDen nye sesjonen skal n√• dukke opp under ‚ÄúSession‚Äù. Trykk p√• ‚ÄúRStudio Session‚Äù. Dersom du har gitt sesjonen et eget navn s√• m√• du trykke p√• den sesjonen med navnet du brukte.\n\n\n\nN√• skal du f√• opp Rstudio i nettleseren din."
  },
  {
    "objectID": "rogrstudio.html",
    "href": "rogrstudio.html",
    "title": "STV1020",
    "section": "",
    "text": "R er et gratisprogram som er spesielt egnet for statistikk og dataanalyse. RStudio er en IDE (integrated development environment), et gratisprogram som gj√∏r det lettere √• bruke R. Derfor skal vi l√¶re R med RStudio i seminarene.\nF√∏rste gang du √•pner RStudio er alt fremmed, du blir du m√∏tt av en rekke vinduer, menyer og knapper. Dette dokumentet gir deg en kort forklaring av det aller mest grunnleggende i R og RStudio gjennom 10 bilder. Dersom du tar deg 5 minutter til √• lese dokumentet, og fors√∏ke koden, kommer det f√∏rste seminaret til √• g√• som en lek. Dersom f√∏rste seminar ikke gikk som en lek, og du er usikker p√• hva som foreg√•r i RStudio, kan det ogs√• v√¶re nyttig √• lese dette dokumentet.\n\n\nDu kan installere R og RStudio ved √• f√∏lge denne guiden\n\n\n\nN√• er du klar til √• √•pne RStudio (du trenger ikke √•pne R!). N√•r du √•pner RStudio, vil denne skjermen dukke opp:\n\nP√• bildet ser du tre paneler. Til venstre er Console, √∏verst til h√∏yre er Environment, og nederst til h√∏yre er Files. Fra hvert av disse panelene er det mulig √• trykke seg til andre paneler som Terminal, Plots, History og Help. I denne gjennomgangen forklarer jeg imidlertid bare de fire panelene du trenger for √• skrive, kj√∏re, og lagre kode. Disse panelene er:\n\nScript Her skrives koden din\nConsole - Her produseres output fra koden din\nEnvironment - Her er en oversikt over data du kan kj√∏re kode p√•.\nFiles - Her vises filer i mappen du jobber fra, som for eksempel data og kode. Dersom du lagrer scriptet ditt i mappen du jobber fra, dukker det opp her.\n\n\n\n\nLa oss starte med Script. F√∏rste gang du √•pner RStudio m√• du √•pne dette panelet selv. Det gj√∏r du ved √• trykke p√• arket med gr√∏nn sirkel og hvitt plusstegn √∏verst i h√∏yre hj√∏rne. Jeg har merket dette arket p√• bildet under. Trykk deretter p√• ‚ÄúR Script‚Äù. Alternativt kan du bruke hurtigtasten ctrl/cmd + shift + N.\n\nN√•r du har √•pnet et nytt R-script vil denne skjermen med fire paneler dukker opp:\n\nI R-scriptet, det √∏verste panelet til venstre, kan du n√• skrive R-koder. La oss pr√∏ve √• skrive to gyldige R-koder, \"Hello world!\" og 1+1. R-scriptet ditt skal se slik ut:\n\nDu har n√• skrevet to linjer med R-kode!\n\n\n\nI forrige bilde merket jeg den nederste linjen i Console, som begynner med >. Den er tom, men n√•r vi kj√∏rer koden vi har skrevet, vil RStudio evaluere/kj√∏re koden i Console. Dersom koden produserer output, vil denne ogs√• printes i Console. Vi kj√∏rer koden ved √• merke koden i scriptet, og trykke p√• ctrl/cmd + enter (ctrl p√• pc, cmd p√• mac). La oss se p√• resultatet av √• kj√∏re koden vi har skrevet i scriptet:\n\nP√• linjen med > vises kode som R har kj√∏rt. P√• linjen under kode som er kj√∏rt, vises output fra koden. Koden \"Hello world!\"ble lest og evaluert som tekst - resultatet er tekst-outputen ‚ÄúHello world!‚Äù. Koden 1+1 ble lest som et mattestykke, og RStudio produserte outputen 2, l√∏sningen p√• mattestykket vi ba RStudio om √• kj√∏re/evaluere for oss. RStudio kan tydeligvis b√•de lese og regne.\n\n\n\nDet er ikke all kode som gir output i Console. Noen ganger skriver vi kode som gir input til RStudio i form av informasjon/data som vi ber RStudio huske p√• for oss. RStudio kan huske p√• informasjon, uten av vi trenger √• lagre den p√• datamaskinen. Data som RStudio husker, vises i Environment. Vi kaller slike data for objekter. Jeg har merket Environment-panelet, √∏verst til h√∏yre. Vi bruker som regel objekter, gjerne datasett i kodingen vi gj√∏r.\nLa oss skrive en kode som gir RStudio informasjon √• huske p√•. Til dette bruker vi funksjonen (mer presist: assignment operatoren) <-, som brukes til √• oprette objekter. Objekter inneholder ulike samlinger av informasjon/data som RStudio husker p√• for oss. Vi kan selv velge navnet p√• objektene v√•re. Navnet kommer f√∏r <-, jeg velger √• kalle objektet mitt velkommen. Etter pilen forteller vi hva objektet skal inneholde. Under har jeg brukt funksjonen c() for √• fortelle RStudio at jeg √∏nsker √• opprette en vektor (en ordnet liste av verdier) best√•ende av fire elementer, \"Velkommen\" , \"til\", \"R-seminar\" og \"!\". N√•r jeg bruker hermetegn, \" \", behandler R disse elementene som tekst.\n\nLa oss se hva som skjer n√•r vi kj√∏rer koden (med ctrl + enter p√• pc og cmd + enter p√• mac).\n\nVi ser at objektet velkommen har dukket opp i Environment panelet √∏verst til h√∏yre. Vi f√•r ogs√• informasjon om hva objektet inneholder. F√∏rst kommer navnet p√• objektet, chr referer til at objektet best√•r av tekst. Deretter referer [1:4] til at objektet best√•r av fire elementer, som vises til slutt.\nLegg for √∏vrig merke til at n√•r vi kj√∏rte koden, ble den evaluert i Console, men vi fikk ikke output p√• en ny linje i Console. Dersom vi evaluerer objektet vi laget, velkommen, f√•r vi imidlertid en egen linje med output, i dette tilfellet innholdet i objektet. Som oftest f√•r vi output i Console, men noen typer kode, som opprettelse av objekter med <- gir output i andre paneler, som Environment\n\nVi har n√• sett p√• 3 deler av arbeidsflyten i RStudio:\n\nF√∏rst skriver vi kode i et script.\nDeretter kj√∏rer/evaluerer vi koden i Console med ctrl/cmd + enter.\nResultatet av at koden ble evaluert dukker som regel opp i Console. N√•r koden produserer objekter med informasjon som RStudio skal huske p√•, dukker imidlertid objektet opp i Environment.\n\n\n\n\nN√•r vi er ferdig med de 3 stegene over, vil vi som regel lagre arbeidet v√•rt, slik at vi ikke trenger √• gj√∏re arbeidet p√• nytt senere. Dersom det g√•r fort √• kj√∏re gjennom R-scriptet, er scriptet alt vi trenger √• lagre. Det er ogs√• mulig √• lagre datasett, figurer, tabeller og bilder, men dette skal vi l√¶re senere. For √• forst√• hvordan vi kan lagre ulike filer i RStudio, og hvor R leter etter filer (som datasett) som vi ber R finne, m√• vi kjenne til mappesystemet p√• datamaskinen vi jobber fra.\nEt eksempel p√• en mappe som finnes p√• de fleste pcer er Mine dokumenter eller Documents. RStudio velger en mappe av denne typen p√• datamaskinen som working directory. RStudio forventer at filnavn som refereres til ligger i working directory. RStudio vil ogs√• sette som default option at filer lagres i working directory.\nPanelet Files nederst til h√∏yre viser filer i ditt n√•v√¶rende working directory. P√• bildet under, ser du at mappen jeg har som working directory, data, er tom.\n\nHva skjer dersom jeg lagrer R-scriptet i denne mappen? La oss lagre og sjekke. Trykk p√• file √∏verst til venstre i RStudio, trykk deretter p√• save as. Du kan eventuelt bruke hurtigtastene ctrl/cmd + s. Da vil dette vinduet dukke opp:\n\nJeg velger filnavnet test. Vi trenger ikke √• skrive hvilken filtype vi lagrer, RStudio gj√∏r dette for oss. Trykk p√• lagre uten √• skifte mappe du lagrer filen i bor fra default option. Du vil f√• f√∏lgende resultat:\n\nScriptet v√•rt, test.R dukket n√• opp under Files. Dette betyr at RStudio har registrert at filen er i working directory. Filer som slutter med .R er lagret som R-script, vi har dermed lyktes med √• lagre R-scriptet riktig.\n\n\n\nOfte ligger mapper inne i andre mapper, under en harddisk (for eksempel C:). Mappene vi m√• klikke oss gjennom for √• komme fra harddisken til en bestemt mappe, f.eks. STV4020A, utgj√∏r filstien til mappen STV4020A. Ved √• spesifisere filstien til en mappe, kan du kan bytte working directory med funksjonen setwd(). Dersom vi skriver navnet p√• en fil som ligger i en annen mappe enn working directory, vil ikke R klare √• finne denne, med mindre vi spesifiserer filstien. Vi kan lese filstien til n√•v√¶rende working directory p√• toppen av Files-panelet. Fra bildet over, ser vi at mitt working directory er satt til C:/Users/erlenlan/OneDrive/STV4020A/data (Bruk / for √• skille mellom mapper n√•r du skriver filstier). Du kan ogs√• finne n√•v√¶rende working directory ved √• kj√∏re koden getwd(). Den beste og letteste m√•ten √• unng√• frustrasjon pga. working directory er √• opprette et prosjekt gjennom menyen i R-studio. Les mer her."
  },
  {
    "objectID": "laste_data.html",
    "href": "laste_data.html",
    "title": "STV1020",
    "section": "",
    "text": "N√•r du skal laste inn et datasett til RStudio, og det oppst√•r problemer, kan du sjekke tipsene under. Her er eksemplene fra en Mac, men de samme l√∏sningene vil finnes ogs√• p√• Windows og Linux.\n\n\nPass p√• at du enten √•pner prosjektfilen din eller setter working directory til en mappe du finner igjen. For eksempel kan du lage en mappe som heter ‚ÄúR-seminar‚Äù p√• skrivebordet, og s√• lage undermapper for hvert seminar. Dere kan sette working directory som vist under, eller bruke koden setwd(). Hvis dere vil dobbeltsjekke, bruk funksjonen getwd().\n\nDet aller viktigste er √• finne en god m√•te √• strukturere prosjektene sine p√•. Eksempelvis ‚ÄúR Best Practices‚Äù. Ta gjerne ogs√• en titt p√• RStudios/posit egen side for hvordan man bruker prosjekter.\n\n\n\nPass p√• at datasettfilen ligger i mappen du pr√∏ver √• hente den fra. For eksempel er det lurt √• ha datasett i en egen datamappe der prosjektfilen din er lagret. P√• bildet under ser dere hvordan det er gjort i dette eksempelet.\n\nDu kan ogs√• sjekke hvilke filer som ligger i mappen du jobber fra i R med funksjonen list.files()\n\n\n\nDobbeltsjekk koden du skriver i RStudio, sjekk for skrivefeil, parenteser og hermetegn, og at filnavnet er det samme som du har lagret filen som.\nBruk gjerne tab for √• finne frem filen din for √• unng√• problemer med skrivefeil. Still mark√∏ren i hermetegnene i koden for √• laste inn data og trykk p√• tab-knappen (hvilken knapp det er kan du google) for √• liste opp mapper og filer i working directory/prosjektmappen din. Om datafilen er lagret i working directory/prosjektmappen s√• kommer den opp i en liste som vist p√• bildet under.\n\n\n\n\n\nHer er de ulike kodene for √• laste inn filtyper. Der det st√•r ‚Äúnavn‚Äù er navnet dere gir objektet, dette finner dere p√• selv. Der det st√•r ‚Äúfile‚Äù skal dere sette inn filnavnet. Alts√• det filen heter i mappen dere lagret den i.\n\n\n\ninstall.packages(\"readxl\")\nlibrary(readxl)\n\nnavn <- read_excel(\"file\")\n\n\n\n\n\nnavn <- read.csv(\"file\")  \nnavn <- read.csv2(\"file\")\n\n\n\n\n\nload(\"file\")\n# Merk at her gir du ikke datasettet et eget navn\n\n\n\n\n\ninstall.packages(\"haven\")\nlibrary(haven)\n\nnavn <- read_dta(\"file\")\n\n\n\n\n\ninstall.packages(\"haven\")\nlibrary(haven)\n\nnavn <- read_sav(\"file\")\n\nV√¶r obs p√• at variabler som egentlig er faktorer kan bli lest som numeriske ved bruk av haven. Derfor er det ekstra viktig √• sjekke kodebok og/eller labels.\nHvis dere har fulgt stegene over, men likevel ikke f√•r lastet inn datasettet:\n\nSjekk om pakkene du har installert er oppdatert.\n\nFor √• unders√∏ke om noen av pakkene trenger en oppdatering, kan dere trykke p√• ‚Äòtools‚Äô og ‚Äòcheck for package updates‚Äô.\nEller kj√∏re funksjonen update.packages(ask = FALSE)\n\nHvis du har Mac, sjekk at maskinen din er oppdatert.\n\nEr du usikker p√• hvordan s√• se p√• Apple sine support-sider\n\nSjekk at du har riktig versjon av R og Rstudio for maskinen din\n\nEr du usikker s√• sjekk installasjonsveiledningen\n\n\nHvis dere har g√•tt gjennom alle stegene, og likevel ikke f√•r lastet inn datasettene s√• er neste steg √• g√• innom kodekaf√© for √• f√• hjelp.\n\n\n\n\nFor √• unders√∏ke om tidyverse er installert kan dere kj√∏re koden under. Du skal f√• opp et plot nederst til h√∏yre i RStudio n√•r du kj√∏rer koden:\n\n# Install.packages er ikke n√∏dvendig √• kj√∏re om du allerede har installert pakken\ninstall.packages(\"tidyverse\") \nlibrary(tidyverse)\ndata <- data.frame(x = c(1,1,1,2,2,3,4,4,5))\nggplot(data = data, aes(x = x)) +\n  geom_bar()\n\nPlottet skal se omtrent slik ut:"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "STV1020",
    "section": "",
    "text": "üëã Velkommen til R-seminarer i STV1020! üëã\nI denne lille notatboka finner du litt informasjon om praktisk ting og tang. Det kan v√¶re lurt √• se over de forskjellige sidene i venstremargen:\n\nIntroduksjon (det er der du er n√•)\nInstallasjonsguide for R\nGuide for √• laste inn datasett i R\nGuide for RStudio Workbench\nInformasjon om R-pr√∏ven\n\n\n\nHer kommer litt informasjon om R-seminarene. I STV1020 har vi 6 seminarer der vi g√•r gjennom grunnleggende funksjoner og m√•ter √• jobbe med R p√•. Tema for seminarene er:\n\nGrunnleggende R ‚Äì kalkulator, indeksering, objekter, osv\nData ‚Äì laste inn, lage deskriptiv statistikk og visualisering\nDatamanipulering ‚Äì omkoding, tabeller, visualisering\nBivariate sammenhenger ‚Äì korrelasjon, krysstabulering og visualisering\nBivariat regresjon ‚Äì OLS\nMultivariat regresjon ‚Äì OLS\n\nDet er mye √• sette seg inn i n√•r man starter helt fra bunn, men √• bruke litt innsats p√• R n√•, kan gi gevinster senere. Mange ender opp med √• skrive kvantitative oppgaver i andre kurs eller bacheloroppgave, mens andre kan f√• bruk for kunnskapen i jobbsammenheng. P√• kort sikt har vi sett at √• jobbe godt med R i STV1020 ogs√• gj√∏r l√¶ringen i resten av kurset noe mer lettfattelig.\nR-seminarene blir etterfulgt av en digital pr√∏ve [[DATO ikke satt]] som du m√• best√• for √• kunne g√• opp til eksamen i STV1020. Dersom du ikke best√•r p√• f√∏rste fors√∏k s√• f√•r du et nytt fors√∏k [[DATO ikke satt]]. Man kan enten bruke egen laptop (anbefalt om mulig) eller en stasjon√¶r UiO-PC (alle maskiner p√• Eilert Sundt skal ha R og RStudio installert) n√•r man skal bruke R.\n\n\n\nF√∏r f√∏rste seminar s√• forventer vi:\n\nüíæ At du har lastet ned og installert R og Rstudio f√∏r f√∏rste seminar. F√∏lg gjerne installasjonsguiden p√• denne siden. üíª\nüìà At du har lest gjennom guide for innlasting av datasett üìâ\n\nUnder seminarrekka forventer vi:\n\nüë©‚Äçüéì At du m√∏ter opp p√• seminar. üë®‚Äçüéì\nüìö At du jobber med √• l√∏se oppgaver mellom seminarene. üìö\n\nDette er viktig for at seminarene skal g√• s√• smidig som mulig og for at dere skal f√• l√¶ringsutbytte av √• delta. For noen kan R virke skummelt ved f√∏rste √∏yekast, men erfaringsmessig s√• g√•r dette veldig fint s√• lenge du legger ned litt innsats underveis üéâ ü•≥ üéâ\n\n\n\n\nCoffee & Coding\n√òve deg p√• R direkte relatert til STV1020 i denne tutorialen.\nBli med i facebookgruppen R for statsvitenskap ved UiO.\nDiscord server for STV\nR-workbench for UiO-brukere\nRStudio Keyboard Shortcuts for Windows, Linux and Mac hjelper deg √• kode raskere.\nStack overflow er et forum hvor folk stiller sp√∏rsm√•l og f√•r hjelp til ulike utfordringer med R. Om du lurer p√• noe s√• vil du som regel finne svar her.\nRstudio community forum er litt i samme gate som Stack overflow.\nUsing projects gir en introduksjon til hvordan dere kan bruke prosjekter i Rstudio.\nSe et forslag til mappestruktur.\nThe tidyverse style guide for R inneholder mange tips for √• skrive forst√•elig og god kode.\nR for Data Science er en veldig god bok for dere som vil fordype dere videre.\nRStudio Cheatsheets oppsummerer pakker eller oppgaver i R som for eksempel ggplot2. Gevinsten i disse juksearkene er st√∏rst n√•r en har litt forst√•else for hva pakken gj√∏r.\nOslo UseR! group og R-Ladies Oslo arrangerer jevnlig interessante foredrag og workshops om R."
  },
  {
    "objectID": "installasjon.html",
    "href": "installasjon.html",
    "title": "STV1020",
    "section": "",
    "text": "Du m√• installere R og Rstudio f√∏r f√∏rste seminar. Dersom du allerede har installert R og Rstudio s√• er det fint om du oppdaterer til siste versjon f√∏r seminar. Om alle har samme versjon s√• vil seminarene g√• mye smidigere.\nDersom du trenger hjelp eller har problemer med installasjon/oppdatering s√• kan du komme p√• ‚òï kodekaf√© ‚òï.\nHar du R og Rstudio installert?\n\nJa - f√∏lg instruksjonene under ‚ÄúHvordan oppdatere R og Rstudio‚Äù.\nNei - f√∏lg instruksjonene under ‚ÄúHvordan installere R og Rstudio‚Äù.\n\n\n\n\nüíª Windows üíª\n\n√Öpne en nettleser og g√• til www.r-project.org.\nKlikk p√• ‚Äúdownload R‚Äù lenken. Den er i f√∏rste avsnitt under ‚ÄúGetting started‚Äù.\nVelg CRAN location. Her burde du g√• for Norway. Klikk p√• lenken.\n\nKlikk p√• ‚ÄúDownload R for Windows‚Äù p√• toppen av siden.\nKlikk p√• ‚Äúinstall R for the first time‚Äù.\nKlikk p√• ‚ÄúDownload R for Windows‚Äù og lagre filen p√• maskinen din. N√•r nedlastningen er ferdig s√• √•pner du .exe-filen og f√∏lger installasjonsveiledningen.\nN√• kan du laste ned Rstudio.\n\nüçé Mac üçé\n\n√Öpne en nettleser og g√• til www.r-project.org.\nKlikk p√• ‚Äúdownload R‚Äù lenken. Den finner du i f√∏rste avsnitt under ‚ÄúGetting started‚Äù.\nVelg CRAN location. Her burde du g√• for Norway. Klikk p√• lenken.\nKlikk p√• ‚ÄúDownload R for (Mac) OS X‚Äù p√• toppen av siden. Du m√• lese det som st√•r p√• siden du kommer til n√• n√∏ye dersom du har Mac.\nVelg den R-versjonen som passer den operativsystemversjonen du har. Om du har en eldre MacBook s√• er det viktig at du klikker p√• riktig lenke. Er du usikker p√• hvilken macOS-versjon du har s√• kan du klikke p√• eplet i venstre hj√∏rne og velge ‚Äúabout this mac‚Äù. Der skal det st√• macOS etterfulgt av navnet p√• versjonen.\nKlikk p√• lenken som matcher din versjon og lagre filen p√• maskinen. N√•r nedlastningen er ferdig s√• √•pner du filen og f√∏lger installasjonsveiledningen.\nN√• kan du laste ned Rstudio.\n\nüêß Linux (Ubuntu 20.04+) üêß\n\nInstallere dependencies:\n\nsudo apt install dirmngr gnupg apt-transport-https ca-certificates software-properties-common\n\nLegge til CRAN i listen over repositories:\n\nsudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E298A3A825C0D65DFD57CBB651716619E084DAB9`\nsudo add-apt-repository 'deb https://cloud.r-project.org/bin/linux/ubuntu focal-cran40/'\n\nInstallere R:\n\nsudo apt install r-base r-base-dev\n\nSjekk om det virker:\n\nR --version\n\n\n\n\n\n\nG√• til www.rstudio.com.\nTrykk p√• ‚ÄúDownload‚Äù.\nTrykk ‚ÄúDownload‚Äù knappen under gratisversjonen av Rstudio Desktop.\nFinn den versjonen som er anbefalt for operativsystemet ditt. Klikk p√• lenken i kolonnen ‚ÄúDownload‚Äù for √• laste ned installasjonsfilen.\nKj√∏r filen og f√∏lg installasjonsveiledning.\n\nN√• er du klar for f√∏rste R-seminar!\n\n\n\nSeminarene g√•r smidigere om alle bruker samme versjon av R. Dersom du har R og Rstudio installert fra f√∏r s√• kan du f√∏lge denne oppskriften for √• sjekke hvilken versjon du har og eventuelt oppdatere dersom n√∏dvendig.\n\n\n\n√Öpne Rstudio. √òverst i konsoll s√• vil du se ‚Äúsession info‚Äù. Den f√∏rste linjen forteller deg hvilken R versjon du bruker. Alternativt s√• kan du kj√∏re koden R.version.string for √• printe R versjonen.\nHar du R versjon 4.2.2 installert?\n\nNei - f√∏lg instruksjonene for √• ‚ÄúOppdatere R og Rstudio‚Äù\nJa - supert! Du er klar for f√∏rste R-seminar!\n\n\n\n\nüíª Windows üíª\nFor √• oppdatere R p√• en Windows maskin s√• kan du pr√∏ve √• bruke pakken installr.\n\nInstaller og last inn installr: skriv inn og kj√∏r kodene install.packages(\"installr\") og library(installr)\nSkriv updateR() og kj√∏r koden. Dette vil starte oppdateringsveilederen til R.\nFor √• oppdatere Rstudio s√• √•pner du Rstudio, velger Help > Check for Updates. Dette vil sende deg til Rstudios nettside hvor du kan laste ned den nyeste versjonen.\n\nN√• er du klar for f√∏rste R-seminar!\nüçé Mac üçé\nP√• Mac s√• laster du selv ned og installerer den nyeste versjonen av R. N√•r du restarter Rstudio s√• vil den oppdaterte versjonen av R automatisk bli tatt i bruk. NB! Her er det snakk om den nyeste versjonen av R som er kompatibel med din Mac.\n\nF√∏lg installasjonsveiledningen for MAC.\nFor √• oppdatere Rstudio s√• √•pner du Rstudio, velger Help > Check for Updates. Dette vil sende deg til Rstudios nettside hvor du kan laste ned den nyeste versjonen.\n\nüêß Linux (Ubuntu 20.04+) üêß\nR oppdateres som alt annet p√• Ubuntu: 1. sudo apt update 2. sudo apt upgrade\nRstudio oppdateres ved √• f√∏lge veiledningen for installasjon av Rstudio over.\nN√• er du klar for f√∏rste R-seminar!"
  },
  {
    "objectID": "seminar/seminar1.html",
    "href": "seminar/seminar1.html",
    "title": "STV1020",
    "section": "",
    "text": "Gjennom 6 seminarganger skal vi n√• g√• igjennom alt fra hva R og Rstudio er og hvordan det fungerer, til √• kj√∏re v√•re helt egne regresjonsanalyser. Vi gleder oss!\nF√∏r hvert seminar kommer jeg til √• legge ut lenke til fire ting p√• Canvas:\n\nR-script\nEn fil som forklarer litt mer av scriptet\nOppgavesett\nDatasett\n\nI denne boken vil dere finne noe tekst, noen figurer og tabeller, og noe kode. Innholdet reflekterer det vi har planlagt √• g√• gjennom p√• seminarene. Eksempelkoden i boka blir markert i blokker som har en egen m√∏rk bakgrunn som her:\n\n# Dette er en kodeblokk.\n\nMens output av koden, der det er relevant, vil ha en lysegr√• bakgrunn, som her:\n\n\n[1] \"Dette er output\"\n\n\nAlt som er skrevet i de m√∏rke boksene kan dere kopiere inn i et R-script og kj√∏re for √• se hva som skjer. N√•r det er en # (hash) foran en tekstlinje s√• betyr det at vi skriver en kommentar i scriptet. N√•r vi setter en # foran teksten s√• skj√∏nner R at dette ikke er vanlig kode, men en kommentar. Resultatene av faktisk kode vil komme i et eget felt med gr√• bakgrunn under. Se for eksempel her:\n\n# Dette er en kommentar.  N√• skal vi gj√∏re et lite fors√∏k med noe\n# enkel matte!  For √• kj√∏re koden setter dere musepekeren ved siden\n# av, og trykker ctrl+enter (cmd+return p√• Mac).\n100/2 + 4\n\n[1] 54"
  },
  {
    "objectID": "seminar/seminar1.html#hjelpefiler",
    "href": "seminar/seminar1.html#hjelpefiler",
    "title": "STV1020",
    "section": "Hjelpefiler",
    "text": "Hjelpefiler\nOfte n√•r vi bruker R er vi usikre p√• hvordan forskjellige funksjoner fungerer. Da kan det v√¶re nyttig √• lese hjelpefilene som forteller hva en funksjon gj√∏r, og hvordan en skal bruke den. For √• gj√∏re dette skriver du et sp√∏rsm√•lstegn f√∏r navnet p√• funksjonen.\n\n# La oss pr√∏ve dette med 'mean()' funksjonen, som logisk nok finner\n# gjennomsnitt:\n?mean\n\nDersom du f√•r et svar som under her s√• tyder det p√• at du ikke har installert pakken funksjonen ligger i. Da kan du legge til et sp√∏rsm√•lstegn til og kj√∏re kode ??vif.\n\n?vif\n\nNo documentation for 'vif' in specified packages and libraries:\nyou could try '??vif'\n\n\nI hjelpefilen f√•r vi en del informasjon om funksjonen. Funksjoner hjelper oss √• hente ut informasjon fra data. Et eksempel p√• data kan v√¶re en tallrekke fra 1 til 10. Informasjonen vi √∏nsker √• hente ut kan for eksempel v√¶re gjennomsnittet eller standardavviket. Vi kan bruke funksjoner til √• f√• R til √• hente ut denne informasjonen for oss. Alle funksjoner har til felles at de tar noe data, f.eks. tall, og skaper et resultat. I tilegg har noen argumenter som gj√∏r at vi kan endre p√• hvordan funksjonen lager resultatet, hva vi f√•r opp i consol og liknende.\nLeser vi hjelpefilen til funksjonen mean() s√• ser vi at den √∏verst gir en beskrivelse, hvor det st√•r at den returnerer gjennomsnittet. Under der kommer argumentene den godtar; et argument (x) som definerer hvilke data vi vil hente ut informasjonen fra, et argument for √• trimme dataene, alts√• fjerne noe, og na.rm argumentet som forteller R hvordan de skal h√•ndtere missingverdier i beregningen. Under Value f√•r vi en beskrivelse av hva funksjonen ‚Äúproduserer‚Äù, f√∏r til slutt et eksempel av hvordan den brukes i bunn.\nHjelpefilene er en flott m√•te √• finne ut hva en funksjon gj√∏r, og hvordan vi kan bruke den. Samtidig kan den ofte v√¶re litt kronglete √• lese. Da hjelper det ofte √• se p√• eksemplene som alltid er i bunn av teksten. Ellers beskriver ogs√• Healy hvordan man kan lese hjelpefilene i Appendix. Skulle det fortsatt v√¶re vanskelig er det viktig √• huske at det finnes et stort milj√∏ rundt R, og ofte er det mange som har opplevd samme problem som deg! Litt googling, og et s√∏k p√• https://stackoverflow.com/ vil fort gi gode svar! Det er ogs√• mulig √• sp√∏rre i facebookgruppen R for statsvitenskap ved UiO.\nUnder er et eksempel p√• hjelpefil for funksjonen head():\n\n\n\nHjelpefileksempel"
  },
  {
    "objectID": "seminar/seminar1.html#syntax-feil",
    "href": "seminar/seminar1.html#syntax-feil",
    "title": "STV1020",
    "section": "Syntax-feil",
    "text": "Syntax-feil\nN√•r vi skriver kode vil vi fort gj√∏re en del feil. Det er helt vanlig og noe som er helt uung√•elig! Dere vil nok fort merke at jeg gj√∏r en hel del feil n√•r jeg skal vise dere i seminaret. En type feil kan likevel v√¶re grei √• merke seg med en gang - mest fordi jeg gj√∏r den hver gang jeg skal skrive noe kode. ‚ÄúSyntax-feil‚Äù er skrivefeil vi gj√∏r n√•r vi skriver kode. F.eks. kan det v√¶re √• skrive men() istedenfor mean(), glemme √• lukke en parantes s√•nn at vi skriver mean( og liknende. Noe av det fine med RStudio er at den markere s√•nne feil for oss!\n\n\n\nEksempler p√• feil kode og feilmeldinger\n\n\nBildet over viser eksempler p√• feilskrevet kode samt hvordan Rstudio markerer dette og hvilke feilmeldinger vi f√•r n√•r vi pr√∏ver √• kj√∏re koden. Dere kan se at R har markert tre av fire linjenummer med en r√∏d X. Dette er steder hvor RStudio mener jeg har gjort feil. Hvis jeg holder musepekeren over kryssene f√•r jeg opp forslag til hva som kan v√¶re feilen. ‚ÄúUnexpected token ‚Äò)‚Äô‚Äù betyr at RStudio mener det er en parantes der som ikke skulle v√¶rt der. I tilegg er det r√∏de streker under de delene av koden som RStudio mener er feil. Jeg vil hevde, i hvertfall etter min egen erfaring, at 90 % av feilene vi gj√∏r i R er enkle skrivefeil/syntax-feil som dette. Derfor er det veldig nyttig at RStudio viser det p√• denne m√•ten!"
  },
  {
    "objectID": "seminar/seminar1.html#klasser",
    "href": "seminar/seminar1.html#klasser",
    "title": "STV1020",
    "section": "Klasser",
    "text": "Klasser\nS√• langt har vi kun jobbet med tallverdier. Ofte har vi variabler som ikke er tall, men f.eks. tekst eller ordinalverdier. I R vil vi ogs√• se at visse funksjoner krever at dataene er i visse klasser. Hovedklassene vi kommer til √• bruke er; numeric, character, logical og factor. Numeric er tall (logisk nok). De fleste mattefunksjoner krever at dataene er numeric. For √• sjekke om noe er numeric kan vi bruke funksjonen is.numeric().\n\nis.numeric(en_til_hundre)\n\n[1] TRUE\n\n# Her ser vi at vi f√•r opp 'TRUE' som betyr at en_til_hundre er et\n# numerisk objekt\n\nVi kan ogs√• bruke funksjonen class() til √• hente ut informasjon om klassen:\n\nclass(en_til_hundre)\n\n[1] \"integer\"\n\n\nDere vil noen ganger se at det skilles mellom ‚Äúnumeric‚Äù og ‚Äúinteger‚Äù. Forskjellen er at integer kun kan inneholde heltall, mens numeric kan ha desimaler. Dette er sv√¶rt sjeldent interessant for v√•r del.\nN√•r vi vil skrive tekst bruker vi klassen ‚Äúcharacter‚Äù. En tekststring m√• alltid ha hermetegn (‚Äú‚Äú) rundt seg, men ellers definerer vi den som vanlig:\n\nTekst <- \"Hei, jeg elsker R! <3\"\n# Denne klassen kan inneholde tekst, men vil f.eks. ikke kunne brukes\n# til matte.\nmean(Tekst)\n\nWarning in mean.default(Tekst): argument is not numeric or logical: returning NA\n\n\n[1] NA\n\n\nHer ser dere at vi f√•r en feilmelding, som sier at argumentet ikke er numerisk eller logisk. Funksjonen gir oss derfor resultatet NA, som betyr missing, alts√• at det ikke eksisterer et resultat.\nVi kan ogs√• kreve at et objekt skal ha en viss klasse. Det gj√∏r vi med funksjonen as.\"klassenavn\" (bytt ut ‚Äúklassenavn‚Äù med for eksempel numeric eller character). Det kan f√∏re til noen uforventede resultater. La oss gj√∏re om objektet tall til character:\n\ntall_ch <- as.character(tall)\nmean(tall_ch)\n\nWarning in mean.default(tall_ch): argument is not numeric or logical: returning\nNA\n\n\n[1] NA\n\n\nGrunnen til at vi f√•r en feilmelding her er fordi vi ikke kan ta gjenomsnittet av tekst. Om dere ser i environment st√•r det ogs√• n√• at tall er chr (charater) og det ‚Äú‚Äù rundt alle tegnene.\nDen siste klassen vi kommer til √• bruke ofte (men det finnes flere) er ‚Äúfactor.‚Äù En faktor er en variabel som kan ha flere forh√•ndsdefinerte niv√•er og brukes ofte n√•r vi skal kj√∏re statistiske modeller. En lett m√•te √• forst√• faktorer p√• er √• tenke p√• dem som ordinale variabler, hvor vi kan vite rekkef√∏lgen p√• niv√•ene men ikke avstanden, som for eksempel utdanningsniv√•ene barneskole, ungdomskole, videreg√•ende skole.\nFor √• lage en faktor bruker vi funksjonen factor(). La oss f√∏rst lage en faktor med ulike utdanningsniv√•er:\n\n# Lager en faktorvariabel uten √• sette niv√•er\nskolenivaer <- factor(c(\"Barneskole\", \"Ungdomskole\", \"Videregaende\", \"Videregaende\",\n    \"Universitet\", \"Ungdomskole\", \"Universitet\"))\n\n# Printer alle verdiene\nskolenivaer\n\n[1] Barneskole   Ungdomskole  Videregaende Videregaende Universitet \n[6] Ungdomskole  Universitet \nLevels: Barneskole Ungdomskole Universitet Videregaende\n\n# Printer alle niv√•ene\nlevels(skolenivaer)\n\n[1] \"Barneskole\"   \"Ungdomskole\"  \"Universitet\"  \"Videregaende\"\n\n# Er det noe som skurrer her?\n\nI eksempelet her kan vi se at vi f√∏rst definerer de forskjellige verdiene som er i variabelen. Vi har ikke spesifisert hvilken rekkef√∏lge niv√•ene har. N√•r vi ikke gj√∏r det s√• baserer R rekkef√∏lgen p√• alfabetet. Derfor f√• vi rekkef√∏lgen ‚ÄúBarneskole‚Äù ‚ÄúUngdomskole‚Äù ‚ÄúUniversitet‚Äù ‚ÄúVideregaende‚Äù. For √• unng√• dette s√• kan vi spesifisere faktorniv√•ene:\n\n# Endrer faktorniv√•ene\nskolenivaer <- factor(skolenivaer, levels = c(\"Barneskole\", \"Ungdomskole\",\n    \"Videregaende\", \"Universitet\"))\nskolenivaer\n\n[1] Barneskole   Ungdomskole  Videregaende Videregaende Universitet \n[6] Ungdomskole  Universitet \nLevels: Barneskole Ungdomskole Videregaende Universitet\n\nlevels(skolenivaer)\n\n[1] \"Barneskole\"   \"Ungdomskole\"  \"Videregaende\" \"Universitet\" \n\n\nI toppen her sa jeg at en vektor var et objekt som inneholdt elementer av samme klasse. S√• langt har vi ogs√• holdt oss til det gjennom √• kunne lage objekter med tekst eller tall. Hva skjer da om vi pr√∏ver √• blande? Vi kan lage et objekt som inneholder b√•de tekst og tall:\n\nteksttall <- c(1, 4, 0, 4, \"Bamse\", \"R\", \"R Seminarer er de BESTE seminarer\",\n    42, \"the answer\")\n\nclass(teksttall)\n\n[1] \"character\"\n\nmean(teksttall[1:4])\n\nWarning in mean.default(teksttall[1:4]): argument is not numeric or logical:\nreturning NA\n\n\n[1] NA\n\n\nSom vi kan se er her klassen blitt character, ogs√• for tallene! Det er fordi at n√•r vi definerer en vektor som inneholder flere klasser, blir det sl√•tt sammen til den klassen som har minst informasjon. Dette kalles ‚Äúimplicit coercion‚Äù, og rekkef√∏lgen g√•r: logical -> integer -> numeric -> complex -> character."
  },
  {
    "objectID": "seminar/seminar1.html#ulike-typer-vektorer-i-r",
    "href": "seminar/seminar1.html#ulike-typer-vektorer-i-r",
    "title": "STV1020",
    "section": "Ulike typer vektorer i R",
    "text": "Ulike typer vektorer i R\nDet finnes flere ulike objekter i R. Til n√• har vi blitt introdusert for to av dem: datasett og vektorer. Hva slags objekt det er har noe √• si for hva du kan gj√∏re med det. I tillegg finnes det ulike typer, eller klasser som vi kaller det, av vektorer. I tabellen under finner dere en grov inndeling av ulike typer vektorer i R (se ogs√• s. 42-47 i L√¶r deg R):\n\n\n\n\n\n\nAtomic vector\nList\n\n\n\n\nnumeric\nblanding\n\n\ninteger\n\n\n\ncharacter\n\n\n\nfactor\n\n\n\nlogical\n\n\n\n\nEn hyppig √•rsak til at en funksjon ikke fungerer, er at en vektor/variabel ikke er i det formatet vi forventet. Tabellen gir en oversikt over variabeltypene vi skal jobbe med. Atomic vector har kun verdier av en type, mens lister kan ha flere typer verdier, samt best√• av flere variabler.\nHvilket format tror du navn, antall og by har?\nDet kan vi sjekke med funksjonen class().\n\nclass(navnestat$navn)\n\n[1] \"character\"\n\nclass(navnestat$antall)\n\n[1] \"numeric\"\n\nclass(navnestat$by)\n\n[1] \"character\"\n\n\nSom dere ser er antall numeric, mens navn og by er character. Her er det hva objektet er lagret som som teller, ikke hvordan det ser ut i datasettet. Selv om noe ser ut som tall i datasettet s√• er det ikke sikkert det er registrert som tall av R. Heldigvis kan dette ofte l√∏ses ved hjelp av en funksjoner som as.numeric(), as.character() og as.factor().\n\n# Her lager vi en ny variabel antall2 der vi ber R lagre alder som\n# character\nnavnestat$antall2 <- as.character(navnestat$antall)\n\nOm vi ser p√• datasettet etter at vi har laget den nye variabelen s√• ser vi at alder og alder2 ser helt like ut. Begge fremst√•r som tall vi kan gj√∏re regneoperasjoner p√•, men bare en av dem er det. Pr√∏v gjerne selv √• kj√∏re funksjonen mean() som regner ut gjennomsnittet p√• alder2.\nHva skjer om du f√∏rst omkoder alder til en faktor ved hjelp av as.factor() og s√• omkoder faktorvariabelen til en numerisk variabel med as.numeric()?"
  },
  {
    "objectID": "seminar/seminar1.html#logiske-tester",
    "href": "seminar/seminar1.html#logiske-tester",
    "title": "STV1020",
    "section": "Logiske tester",
    "text": "Logiske tester\nR kan evaluere logiske utsdagn og bed√∏mme om de er ¬¥TRUE¬¥ eller ¬¥FALSE¬¥.\n\n1 == 2  # tester om 1 er lik 2\n\n[1] FALSE\n\n2 == 2  # tester om 2 er lik 2\n\n[1] TRUE\n\n\"Statsvitenskap\" == \"statsvitenskap\"  # Logiske tester kan ogs√• brukes p√• tekst\n\n[1] FALSE\n\n\"statsvitenskap\" == \"statsvitenskap\"  # R er imidlertid sensitivt til store og sm√• bokstaver\n\n[1] TRUE\n\n1 <= 2  # Tester om 1 er mindre enn eller lik 2\n\n[1] TRUE\n\n1 >= 2  # Tester om 1 er st√∏rre enn eller lik 2\n\n[1] FALSE\n\n1 != 2  # Tester om 1 er ulik 2\n\n[1] TRUE\n\n1 == 2 | 1 == 1  # Tester om en av de to p√•standene 1 er lik 2 eller 1 er lik 1 er sanne\n\n[1] TRUE\n\n1 == 2 & 1 == 1  # Tester om begge de to p√•standene 1 er lik 2 og 1 er lik 1 er sanne\n\n[1] FALSE\n\n\nOversikt over logiske operatorer:\n\n\n\nOperator\nBetydning\n\n\n\n\n==\ner lik\n\n\n<\nmindre enn\n\n\n>\nst√∏rre enn\n\n\n<=\nmindre eller lik\n\n\n>=\nst√∏rre eller lik\n\n\n!=\nikke lik\n\n\n!x\nikke x\n\n\n|\neller\n\n\n&\nog\n\n\n\nVi kommer til √• bruke disse opearterne mye, spesielt n√•r vi gj√∏r endringer i datasett som √• lage nye variabler. Det er derfor viktig at dere forst√•r hvordan disse fungerer. Den beste m√•ten √• f√• denne forest√•else p√• er √• √∏ve."
  },
  {
    "objectID": "seminar/seminar2.html",
    "href": "seminar/seminar2.html",
    "title": "STV1020",
    "section": "",
    "text": "P√• seminar to skal vi se p√• det f√∏lgende:\n\nOrganisering av arbeidet\nPakker\nLaste inn data\nOrganisering av data\nKlasser og m√•leniv√•\nDeskriptiv statistikk\nPlotting"
  },
  {
    "objectID": "seminar/seminar2.html#overskrifter-og-tekst",
    "href": "seminar/seminar2.html#overskrifter-og-tekst",
    "title": "STV1020",
    "section": "Overskrifter og tekst",
    "text": "Overskrifter og tekst\nHvordan man organiserer et R-script kommer an p√• hva man selv synes er mest oversiktlig, men det er viktig at man klarer √• holde oversikt over hva man har kodet og forst√•r hva man har gjort n√•r man kommer tilbake til et script.\nDet er lurt √• lage overskrifter for √• huske hva du tenker at koden din skal gj√∏re. Dersom du velger overskriftformatet ‚Äú# Overskrift ‚Äî-‚Äù s√• vil R automatisk gi deg muligheten til √• gjemme koden under overskriften. Om du trykker p√• ‚ÄúShow document outline‚Äù i menylinjen til h√∏yre over scriptet ditt kan du ogs√• f√• opp en innholdsfortegnelse basert p√• overskriftene dine.\n\n\n\nRyddig kode gj√∏r det enklere for deg selv og andre n√•r du st√•r fast. Tegneserie fra XKCD: https://xkcd.com/1513/\n\n\nDet kan ogs√• v√¶re lurt √• inkludere kommentarer i scriptet ditt som forklarer hva du gj√∏r. Tekst som ikke skal leses av R skriver man etter emneknagg (#). Vi glemmer fort s√• det er en god id√© √• tenke at du skal kunne se tilbake p√• dette scriptet om et √•r igjen og skj√∏nne hva du har gjort.\nTil sist s√• er det lurt √• ikke skrive for mange tegn f√∏r du bytter linje. The tidyverse style guide anbefaler at en begrenser antall tegn til 80 per linje. R teller for hvor mange tegn du har per linje til venstre nedenfor scriptet ditt. Tidyverse sin stilguide inneholder ogs√• flere tips til hvordan man kan skrive lettleselig kode."
  },
  {
    "objectID": "seminar/seminar2.html#kategorisk",
    "href": "seminar/seminar2.html#kategorisk",
    "title": "STV1020",
    "section": "Kategorisk",
    "text": "Kategorisk\nN√•r variabler er kategoriske s√• kan egenskapen deles i to eller flere gjensidig utelukkende kategorier. I ESS datasettet v√•rt er variabelen ‚Äúvote‚Äù kategorisk; man har enten stemt, ikke stemt, eller s√• er man ikke berettiget til √• stemme. Dette kan vi se i utklippet fra kodeboken.\n\n\n\nUtdrag fra ESS sin kodebok for variabelen vote\n\n\nVi kan sjekke hvilken klasse variabelen har ved hjelp av class()\n\nclass(ess_subset$vote)\n\n[1] \"haven_labelled\" \"vctrs_vctr\"     \"double\"        \n\n\nHer f√•r vi opp klassene haven_labelled, vctrs_vctr og double. haven_labelled indikerer at datasettet ogs√• inneholder informasjon om verdilabels, mens double betyr at variabelen n√• er lagret som en numerisk variabel. P√• variabler med kategorisk eller ordinalt m√•leniv√• s√•kan vi bruke funksjonen table() til √• f√• oversikt over verdiene:\n\ntable(ess_subset$vote)\n\n\n   1    2    3 \n1156  124  125 \n\n\nSom vi ser her s√• fremst√•r variabelen som om den er kontinuerlig/numerisk med tallverdier, men vi har lest kodeboken og vet at den er kategorisk. Dersom vi vil endre klassen p√• variabelen til en faktor s√• det samsvarer bedre med m√•leniv√•et s√• kan vi bruke funksjonen as_factor() for √• opprette en ny variabel:\n\n# Lager en ny variabel i datasettet som heter vote_factor\ness_subset$vote_factor <- as_factor(ess_subset$vote)\n\nVi kan n√• se n√¶rmere p√• hvilke verdier den nye variabelen vote_factor tar ved hjelp av levels() og klassen ved hjelp av class():\n\n# Sjekker faktorniv√•ene:\nlevels(ess_subset$vote_factor)\n\n[1] \"Yes\"                  \"No\"                   \"Not eligible to vote\"\n[4] \"Don't know\"           \"Refusal\"              \"No answer\"           \n\n# Sjekker klasse:\nclass(ess_subset$vote_factor)\n\n[1] \"factor\"\n\n\nN√• samsvarer variabelens verdier (Yes, No, osv.) og klasse (factor) bedre med det faktiske m√•leniv√•et til variabelen (kategorisk).\nMerk at bruken av as_factor() er forbehold datasett som inneholder labels s√•nn som ESS-datasettet vi jobber med i dag. Vi skal jobbe mer med omkoding av variabler senere."
  },
  {
    "objectID": "seminar/seminar2.html#ordinalniv√•",
    "href": "seminar/seminar2.html#ordinalniv√•",
    "title": "STV1020",
    "section": "Ordinalniv√•",
    "text": "Ordinalniv√•\nN√•r variabler er p√• ordinalniv√• kan de deles i to eller flere gjensidig utelukkende kategorier som kan rangeres, men vi kan ikke si noe om avstanden mellom verdiene og en enhets √∏kning har ikke samme betydning. I ESS datasettet v√•r s√• er variabelen interest et eksempel p√• en variabel p√• ordinalniv√•; i utdraget fra kodeboken ser vi at man kan v√¶re ikke interessert, lite interessert, ganske interessert, eller veldig interessert i politikk.\n\n\n\nUtdrag fra ESS sin kodebok for variabelen interest (opprinnelig navn polintr)\n\n\nVi kan sjekke klasse til denne variabelen ogs√•:\n\nclass(ess_subset$interest)\n\n[1] \"haven_labelled\" \"vctrs_vctr\"     \"double\"        \n\n\nSom vi ser er ogs√• denne variabelen ogs√• registrert som klassene haven_labelled, vctrs_vctr og double av R. Dersom vi vil bruke denne variabelen som en kategorisk variabel s√• kan vi igjen bruke as_factor for √• f√• variabelens klasse til √• samsvare med m√•leniv√•et:\n\ness_subset$interest_factor <- as_factor(ess_subset$interest)\n\nVi sjekker faktorniv√•er og klasse igjen:\n\n# Sjekker faktorniv√•ene:\nlevels(ess_subset$interest_factor)\n\n[1] \"Very interested\"       \"Quite interested\"      \"Hardly interested\"    \n[4] \"Not at all interested\" \"Don't know\"            \"Refusal\"              \n[7] \"No answer\"            \n\n# Sjekker klasse:\nclass(ess_subset$interest_factor)\n\n[1] \"factor\"\n\n\nDette ser ogs√• fint ut. Som dere vet fra forelesning s√• er behandler man ofte variabler p√• ordinalniv√• som enten kategorisk eller kontinuerlig m√•leniv√•. Dersom vi ville beholdt denne som en kontinuerlig variabel s√• hadde vi ikke trengt √• omkode den ved hjelp av as_factor()."
  },
  {
    "objectID": "seminar/seminar2.html#kontinuerlig",
    "href": "seminar/seminar2.html#kontinuerlig",
    "title": "STV1020",
    "section": "Kontinuerlig",
    "text": "Kontinuerlig\nKontinuerlige variabler kan rangeres, har samme avstand mellom alle verdier og en enhets √∏kning betyr alltid det samme. Her er det alts√• snakk om variabler med faktiske tallverdier. I ESS datasettet v√•rt s√• er variabelen ‚Äúnews‚Äù kontinuerlig. Som vi kan se i utdraget fra kodeboken s√• m√•ler variabelen hvor mange minutter man bruker p√• nyheter hver dag. Det er et minutts avstand mellom hver verdi, og en √∏kning p√• en enhet vil alltid bety en √∏kning p√• et minutt.\n\n\n\nUtdrag fra ESS sin kodebok for variabelen news (opprinnelig navn nwspol)\n\n\nVi kan sjekke klassen her ogs√•:\n\nclass(ess_subset$news)\n\n[1] \"haven_labelled\" \"vctrs_vctr\"     \"double\"        \n\nis.numeric(ess_subset$news)\n\n[1] TRUE\n\n\nDenne variabelen er double og skal v√¶re det s√• her er alt i orden.\nJeg vil oppfordre dere til √• v√¶re obs og alltid sjekke at klassen p√• en variabel dere skal bruke stemmer overens med m√•leniv√•et. I mange datasett f√•r kategoriske og ordinale variabler ofte tall istedenfor kategorinavn som verdier og lastes inn som klassen numeric. Dette gj√∏r at kategoriske variabler kan fremst√• som at de har et h√∏yere m√•leniv√• enn de faktisk har i R. Derfor er det alltid viktig √• ogs√• sjekke kodeboken for √• se hvilket m√•leniv√• variabelen faktisk har. Det kommer ikke til √• st√• ‚Äúdenne variabelen har kategorisk m√•leniv√•‚Äù s√• dere m√• gj√∏re en selvstendig vurdering basert p√• hvilke verdier variabelen har."
  },
  {
    "objectID": "seminar/seminar2.html#kategoriske-variabler",
    "href": "seminar/seminar2.html#kategoriske-variabler",
    "title": "STV1020",
    "section": "Kategoriske variabler",
    "text": "Kategoriske variabler\nR har ingen innebygd funksjon for √• finne modusverdien. Ved √• s√∏ke p√• internett s√• finner du fort mange ulike funksjoner du kan bruke, men for √• gj√∏re det enkelt bruker vi bare table(). Funksjonen table() gir oss en frekvenstabell, mens prop.table gj√∏r om frekvenstabellen til andeler. ESS datasettet mangler data for noen observasjoner. Ved √• ta med useNA = \"always\" i table() s√• f√•r vi ogs√• denne informasjonen i tabellen:\n\ntable(ess_subset$vote, useNA = \"always\")\n\n\n   1    2    3 <NA> \n1156  124  125    1 \n\nprop.table(table(ess_subset$vote))\n\n\n         1          2          3 \n0.82277580 0.08825623 0.08896797 \n\nprop.table(table(ess_subset$vote, useNA = \"always\"))\n\n\n           1            2            3         <NA> \n0.8221906117 0.0881934566 0.0889046942 0.0007112376"
  },
  {
    "objectID": "seminar/seminar2.html#kontinuerlige-variabler",
    "href": "seminar/seminar2.html#kontinuerlige-variabler",
    "title": "STV1020",
    "section": "Kontinuerlige variabler",
    "text": "Kontinuerlige variabler\n\n# Finner minimumsverdi (det laveste antall minutter brukt\n# p√• nyheter)\nmin(ess_subset$news, na.rm = TRUE)  # na.rm = TRUE sier at missing skal droppes i beregningen\n\n<labelled<double>[1]>: News about politics and current affairs, watching, reading or listening, in min\n[1] 0\n\nLabels:\n value      label\n NA(b)    Refusal\n NA(c) Don't know\n NA(d)  No answer\n\n# Finner maksimumsveriden (den h√∏yeste antall minutter\n# brukt p√• nyheter)\nmax(ess_subset$news, na.rm = TRUE)\n\n<labelled<double>[1]>: News about politics and current affairs, watching, reading or listening, in min\n[1] 1109\n\nLabels:\n value      label\n NA(b)    Refusal\n NA(c) Don't know\n NA(d)  No answer\n\n# Finner gjennomsnittlig antall minutter\nmean(ess_subset$news, na.rm = TRUE)\n\n[1] 104.1006\n\n# Finner median\nmedian(ess_subset$news, na.rm = TRUE)\n\n[1] 60\n\n# Finner standardavviket\nsd(ess_subset$news, na.rm = TRUE)\n\n[1] 155.5571\n\n# Finner varians\nvar(ess_subset$news, na.rm = TRUE)\n\n[1] 24198.01\n\n# Finner kvantilverdiene\nquantile(ess_subset$news, na.rm = TRUE)\n\n  0%  25%  50%  75% 100% \n   0   30   60  120 1109 \n\n# Finner forskjellig deskriptiv statistikk for en variabel\nsummary(ess_subset$news)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \n    0.0    30.0    60.0   104.1   120.0  1109.0      34"
  },
  {
    "objectID": "seminar/seminar2.html#kategoriske-variabeler",
    "href": "seminar/seminar2.html#kategoriske-variabeler",
    "title": "STV1020",
    "section": "Kategoriske variabeler",
    "text": "Kategoriske variabeler\n\nS√∏ylediagram og kakediagram med en variabel\nHvordan kan vi visualisere hvordan fordelingen av politisk interesse er? Her kan vi bruke geom_bar til √• lage et s√∏ylediagram (bar chart). Et s√∏ylediagram viser antall observasjoner av hver verdi. Vi bruker her den variabelen vi lagde tidligere med ‚Äúriktig‚Äù m√•leniv√•.\n\nggplot(data = ess_subset, aes(x = interest_factor)) + geom_bar() +\n    theme(axis.text.x = element_text(angle = 60, hjust = 1))\n\n\nDersom vi ikke √∏nsker √• gi missingverdiene (NA) en egen s√∏yle s√• kan vi bruke filter() til √• fjerne disse:\n\nggplot(data = ess_subset %>%\n    filter(!is.na(interest_factor)), aes(x = interest_factor)) +\n    geom_bar() + theme(axis.text.x = element_text(angle = 60,\n    hjust = 1))\n\n\nEt alternativ til s√∏ylediagram er kakediagram (pie chart):\n\nggplot(ess_subset, aes(x = \"\", y = interest, fill = interest_factor)) +\n    geom_bar(stat = \"identity\", width = 1) + coord_polar(\"y\",\n    start = 0) + theme_void() + scale_fill_grey()\n\n\n\n\nS√∏ylediagram med to variabler\nHvor mange innenfor hvert niv√• av politisk interesse stemte? Vi kan bruke geom_bar() igjen, men vi sier at vi ogs√• vil se fordelingen av hvordan respondentene stemte innenfor hvert niv√• av politisk interesse med (aes(fill = vote)). S√• sier vi at vi vil at det skal v√¶re en s√∏yle for de ulike alternativene for vote med position = \"dodge\".\n\nggplot(data = ess_subset, aes(x = interest_factor)) + geom_bar(aes(fill = vote_factor),\n    position = \"dodge\") + theme(axis.text.x = element_text(angle = 60,\n    hjust = 1))"
  },
  {
    "objectID": "seminar/seminar2.html#kontinuerlige-variabler-1",
    "href": "seminar/seminar2.html#kontinuerlige-variabler-1",
    "title": "STV1020",
    "section": "Kontinuerlige variabler",
    "text": "Kontinuerlige variabler\n\nHistogram\nHvordan fordeler respondentenes alder og tiden de bruker p√• nyheter seg? Disse variablene er kontinuerlige, s√• vi kan bruke geom_histogram for √• lage et histogram. Her gj√∏r jeg det med variabelen news.\n\nggplot(data = ess_subset, aes(x = news)) + geom_histogram(bins = 5) +\n    ggtitle(\"Histogram med fem s√∏yler (bins) og frekvens\")\n\n\n\nggplot(data = ess_subset, aes(x = news)) + geom_histogram(binwidth = 10) +\n    ggtitle(\"Histogram med s√∏ylebredde (binwidth) p√• 10 og frekvens\")\n\n\nEt histogram viser hvor mange enheter det er i hver kategori. Vi kan enten spesifisere hvor mange s√∏yler vi vil ha (bins) eller hvor stor hver s√∏yle skal v√¶re (bindwidth). Vi kan ogs√• velge √• plotte density fremfor count. Da f√•r vi histogrammer tilsvarende figur 6.5 i Kellsted og Whitten:\n\nggplot(data = ess_subset, aes(x = news, y = ..density..)) + geom_histogram(bins = 5) +\n    ggtitle(\"Histogram med fem s√∏yler (bins) og density\")\n\n\n\nggplot(data = ess_subset, aes(x = news, y = ..density..)) + geom_histogram(binwidth = 10) +\n    ggtitle(\"Histogram med s√∏ylebredde (binwidth) 10 og density\")\n\n\n\n\nBoksplott\nVi kan lage et boksplott med geom_boxplot. Et boksplott viser hvordan en kontinuerlig variabel er fordelt. Boksen representerer spennet til f√∏rste (25 % ) og tredje (75 %) kvartil, mens streken midt i boksen viser andre (50 %) kvartil (ogs√• kjent som median). For √• finne kvartilene s√• ordner vi observasjonene i stigende rekkef√∏lge og deler dem inn i fire deler med like mange observasjoner i hver. F√∏rste kvartil angir grensen mellom f√∏rste og andre fjerdedel. Det betyr at 25 % av observasjonene har en verdi som er lavere enn verdien til f√∏rste kvartil, mens 75 % har en verdi som er h√∏yere. Tilsvarende utgj√∏re tredje kvartil grensen mellom andre og tredje fjerdedel, og vi kan si at 75 % av observasjonene har en verdi som er lavere enn verdiene til tredje kvaritl, mens 25 % har en verdi som er h√∏yere.\nPrikkene i grafen angir uteliggere. Uteliggere er observasjoner som har enten veldig h√∏ye eller veldig lave verdier relativt til de andre observasjonene. I R beregnes disse utfra kvartilbredden. Kvartilbredden er differansen mellom tredje og f√∏rste kvartil. Alle observasjoner som er lavere enn f√∏rste kvartil minus 1,5 ganger kvartilbredden eller h√∏yere enn tredje kvartil pluss 1,5 ganger kvartilbredden regnes som uteliggere.\n\nggplot(data = ess_subset, aes(x = news)) + geom_boxplot() + theme_minimal()\n\n\nHvis dere vil utforske hvordan man kan tilpasse de ulike diagrammene vi har sett p√• og mange andre, kan denne siden v√¶re nyttig: https://www.r-graph-gallery.com/index.html"
  },
  {
    "objectID": "seminar/seminar3.html",
    "href": "seminar/seminar3.html",
    "title": "STV1020",
    "section": "",
    "text": "P√• dette seminaret skal vi gjennom: 1. Repetisjon: om laste inn data 2. Omkoding av variabler 4. Subsetting av datasett 5. Plotting: Intro til ggplot2 6. Ulike typer plott 7. Lagring av plott"
  },
  {
    "objectID": "seminar/seminar3.html#matematisk-omkoding",
    "href": "seminar/seminar3.html#matematisk-omkoding",
    "title": "STV1020",
    "section": "Matematisk omkoding",
    "text": "Matematisk omkoding\nF√∏rst skal vi l√¶re √• kode om variablene ved √• bruke matematiske omkoding. For √• vise dette bruker jeg variabelem year. Ved hjelp av summary() s√• finner jeg ut at den laveste verdien p√• variabelen er √•ret 1952. Det er √•ret observasjonen ble gjort. Jeg vil gj√∏re dette √•ret til √•r null, mens de andre verdiene p√• variablen skal bli hvor mange √•r etter √•r null ble observasjonen gjort.\n\n# Sjekker summary for opprinnelige variabel\nsummary(data$year)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n   1952    1966    1980    1980    1993    2007 \n\n# spennet er 2007-1952, dvs. 55 √•r\n2007 - 1952\n\n[1] 55\n\n# Legger til ny variabel i datasettet\ndata$year_1952 <- data$year - 1952\n\n# Sjekker summary for ny variabel\nsummary(data$year_1952)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n   0.00   13.75   27.50   27.50   41.25   55.00 \n\n\nS√• unders√∏ker jeg om omkodingen er blitt gjort riktig ved √• bruke funksjonen table(). Jeg gj√∏r dette p√• to m√•ter.\n\n# Lager en tabell med opprinnelig og ny variabel:\ntable(data$year_1952, data$year, useNA = \"always\")\n\n      \n       1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 2002 2007 <NA>\n  0     142    0    0    0    0    0    0    0    0    0    0    0    0\n  5       0  142    0    0    0    0    0    0    0    0    0    0    0\n  10      0    0  142    0    0    0    0    0    0    0    0    0    0\n  15      0    0    0  142    0    0    0    0    0    0    0    0    0\n  20      0    0    0    0  142    0    0    0    0    0    0    0    0\n  25      0    0    0    0    0  142    0    0    0    0    0    0    0\n  30      0    0    0    0    0    0  142    0    0    0    0    0    0\n  35      0    0    0    0    0    0    0  142    0    0    0    0    0\n  40      0    0    0    0    0    0    0    0  142    0    0    0    0\n  45      0    0    0    0    0    0    0    0    0  142    0    0    0\n  50      0    0    0    0    0    0    0    0    0    0  142    0    0\n  55      0    0    0    0    0    0    0    0    0    0    0  142    0\n  <NA>    0    0    0    0    0    0    0    0    0    0    0    0    0\n\n# Lager en tabell med en logisk test:\ntable((data$year_1952 + 1952) == data$year, useNA = \"always\")\n\n\nTRUE <NA> \n1704    0 \n\n\nJeg kan ogs√• endre retningen p√• verdienes ved matematisk omkoding. Da ganger jeg variablene med (-1) og plusser p√• antall verdier variablene har. N√• blir 2007 √•r null.\n\n# Endrer retning p√• variabelen:\ndata$year_2007 <- data$year_1952 * (-1) + 55\n\n# Sjekker at det ble riktig med table():\ntable(data$year_1952, data$year_2007, useNA = \"always\")\n\n      \n         0   5  10  15  20  25  30  35  40  45  50  55 <NA>\n  0      0   0   0   0   0   0   0   0   0   0   0 142    0\n  5      0   0   0   0   0   0   0   0   0   0 142   0    0\n  10     0   0   0   0   0   0   0   0   0 142   0   0    0\n  15     0   0   0   0   0   0   0   0 142   0   0   0    0\n  20     0   0   0   0   0   0   0 142   0   0   0   0    0\n  25     0   0   0   0   0   0 142   0   0   0   0   0    0\n  30     0   0   0   0   0 142   0   0   0   0   0   0    0\n  35     0   0   0   0 142   0   0   0   0   0   0   0    0\n  40     0   0   0 142   0   0   0   0   0   0   0   0    0\n  45     0   0 142   0   0   0   0   0   0   0   0   0    0\n  50     0 142   0   0   0   0   0   0   0   0   0   0    0\n  55   142   0   0   0   0   0   0   0   0   0   0   0    0\n  <NA>   0   0   0   0   0   0   0   0   0   0   0   0    0"
  },
  {
    "objectID": "seminar/seminar3.html#omkoding-med-ifelse",
    "href": "seminar/seminar3.html#omkoding-med-ifelse",
    "title": "STV1020",
    "section": "Omkoding med ifelse()",
    "text": "Omkoding med ifelse()\nDen funksjonen jeg bruker mest til omkoding, er ifelse(). Funksjonen kan brukes p√• numeriske og kategoriske variabler. Syntaksen til denne funksjonen kan forklares som f√∏lger:\n\ndata$nyvar <- ifelse(test = my_data$my.variabel == \"some logical condition\",\n    yes = \"what to return if 'some condition' is TRUE\", no = \"what to return if 'some condition' is FALSE\")\n\nifelse() kan for eksempel bruker til √• lage en ny variabel som tar verdien 1 om observasjonen har en verdi som er st√∏rre enn gjennomsnittet og null ellers. Gjennomsnittet finner du ved √• bruke funksjonen mean(). Under fyller jeg inn betingelsen (condition), hvilken verdi ny variabel skal dersom betingelsen er oppfylt (yes) og hvilken verdi ny variabel skal ha dersom betingelsen ikke er oppfylt (no). Vanligvis vil vi ikke skrive test =, yes = og no =, men jeg har tatt det med her for √• gj√∏re det lettere √• koble de to:\n\ndata$lifeExp_2 <- ifelse(test = data$lifeExp > mean(data$lifeExp,\n    na.rm = TRUE), yes = 1, no = 0)\n\nJeg bruker en kombinasjon av en tabell og en logisk test (se forklaringer fra f√∏rste seminar om logiske tester) for √• sjekke at det ble riktig:\n\ntable(data$lifeExp_2, data$lifeExp > mean(data$lifeExp, na.rm = TRUE),\n    useNA = \"always\")\n\n      \n       FALSE TRUE <NA>\n  0      809    0    0\n  1        0  895    0\n  <NA>     0    0    0"
  },
  {
    "objectID": "seminar/seminar3.html#omkoding-med-recode",
    "href": "seminar/seminar3.html#omkoding-med-recode",
    "title": "STV1020",
    "section": "Omkoding med recode()",
    "text": "Omkoding med recode()\nDersom vi vil omkode en variabel med flere variabler s√• kan vi gj√∏re det med flere ifelse() n√∏stet i hverandre. Det kan imidlertid bli veldig mye kode. Et alternativ er √• kombinere mutate() og recode(). mutate() er en funksjon i tidyverse vi bruker for √• lage nye variabler. recode() er ogs√• en del av tidyverse og den brukes til √• endre verdier p√• variabler. Syntaksen til kombinasjonen av mutate() og recode() er:\n\nmutate(nyvariabel = recode(gammelvariabel, verdi1 = nyverdi1,\n    verdi2 = nyverdi2))\n\nI dette eksempelet skal vi lage en ny variabel continent2 med tallverdier i steden for kontinentnavn. Ettersom funksjonen vi skal bruker ligger i pakken tidyverse s√• m√• vi aller f√∏rst laste inn pakken med library()\n\nlibrary(tidyverse)\n\n‚îÄ‚îÄ Attaching packages ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse 1.3.2 ‚îÄ‚îÄ\n‚úî ggplot2 3.4.0      ‚úî purrr   1.0.1 \n‚úî tibble  3.1.8      ‚úî dplyr   1.0.10\n‚úî tidyr   1.2.1      ‚úî stringr 1.5.0 \n‚úî readr   2.1.3      ‚úî forcats 0.5.2 \n‚îÄ‚îÄ Conflicts ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse_conflicts() ‚îÄ‚îÄ\n‚úñ dplyr::filter() masks stats::filter()\n‚úñ dplyr::lag()    masks stats::lag()\n\ndata <- data %>%\n    mutate(continent2 = recode(continent, Africa = 1, Americas = 2,\n        Asia = 3, Europe = 4, Oceania = 5))\n\nVi sjekker med en tabell at det ble riktig:\n\ntable(data$continent, data$continent2, useNA = \"always\")\n\n          \n             1   2   3   4   5 <NA>\n  Africa   624   0   0   0   0    0\n  Americas   0 300   0   0   0    0\n  Asia       0   0 396   0   0    0\n  Europe     0   0   0 360   0    0\n  Oceania    0   0   0   0  24    0\n  <NA>       0   0   0   0   0    0"
  },
  {
    "objectID": "seminar/seminar3.html#steg-1-fortell-ggplot-hvor-vi-vil-hente-data-fra",
    "href": "seminar/seminar3.html#steg-1-fortell-ggplot-hvor-vi-vil-hente-data-fra",
    "title": "STV1020",
    "section": "Steg 1: Fortell ggplot() hvor vi vil hente data fra",
    "text": "Steg 1: Fortell ggplot() hvor vi vil hente data fra\nSteg 1 er √• fortelle ggplot hvor den skal hente data fra. Det gj√∏r vi ved √• spesifisere data = argumentet i funksjonen ggplot(). I v√•rt tilfelle heter datasettet data og vi skriver:\n\nggplot(data = data)\n\n\nHva skjer n√•r vi kj√∏rer koden n√•? Vi f√•r et helt tomt plott. Mer info m√• til!"
  },
  {
    "objectID": "seminar/seminar3.html#steg-2-fortell-ggplot-hvilken-sammenheng-vi-vil-plotte",
    "href": "seminar/seminar3.html#steg-2-fortell-ggplot-hvilken-sammenheng-vi-vil-plotte",
    "title": "STV1020",
    "section": "Steg 2: Fortell ggplot hvilken sammenheng vi vil plotte",
    "text": "Steg 2: Fortell ggplot hvilken sammenheng vi vil plotte\nDet neste vi gj√∏r er √• fortelle ggplot hva vi vil m√•le p√• x- og y-aksen. N√• skal vi starte med et stolpediagram, der vi vil se hvor mange observasjoner det er i datasettet fordelt p√• de fem kontinentene. Da trenger vi bare √• gi ggplot beskjed om at vi vil ha continent p√• x-aksen. Y-aksen v√•r blir automatisk til antall (count). Senere i dette seminaret skal vi se p√• et eksempel hvor vi gir informasjon om begge aksene. Inne i ggplot() hvor vi har fortalt hvilket datasett vi vil bruke, s√• legger vi til en mapping. aes() st√•r for aestethics, og det vi gj√∏r ved bruk av aes() er √• fortelle ggplot hvilke variabler vi vil visualisere. Vi forteller ggplot at vi vil at variabelen continent skal vises p√• x-aksen.\n\nggplot(data = data, mapping = aes(x = continent))\n\n\nDet vi skriver i aes() kobler variabler til ting du ser i plottet. Det kan for eksempel v√¶re x- og y-verdier (x = variabelnavn, y = variabelnavn), farger (color = variabelnavn), former (shape = variabelnavn) eller st√∏rrelse (size = variabelnavn)."
  },
  {
    "objectID": "seminar/seminar3.html#steg-3-fortell-ggplot-hvordan-du-vil-illustrere-sammenhengen",
    "href": "seminar/seminar3.html#steg-3-fortell-ggplot-hvordan-du-vil-illustrere-sammenhengen",
    "title": "STV1020",
    "section": "Steg 3: Fortell ggplot hvordan du vil illustrere sammenhengen",
    "text": "Steg 3: Fortell ggplot hvordan du vil illustrere sammenhengen\nN√•r vi kj√∏rer koden, s√• ser vi at kontinentene er p√• plass, men vi f√•r likevel ikke noe s√¶rlig informasjon fra plottet. Hva mangler? Vi m√• skrive hva slags plott vi vil lage. Vi vil lage et stolpediagram, og velger geom_bar(). Hvis du pr√∏ver √• skrive inn geom_ vil du se at du f√•r en hel rekke forslag til ulike plott. Flere av disse skal vi komme tilbake til.\n\nggplot(data = data, aes(x = continent)) + geom_bar()\n\n\nDa har vi f√•tt opp et plott som viser observasjonene i datasettet fordelt p√• kontinenter. Vi kan dobbeltsjekke at dette ser riktig ut ved √• lage et summary av variabelen.\n\nsummary(data$continent)\n\n  Africa Americas     Asia   Europe  Oceania \n     624      300      396      360       24 \n\n\nDet ser fint ut. Vi kan ogs√• legge inn andre typer av aestetics i mappingen. Her er det flere muligheter, som dere vil bli kjent med etter hvert. √ân av dem er √• bruke ulike farger for √• gi informasjon. Hvis vi vil at hvert kontinent skal f√• sin egen farge, s√• kan vi gj√∏re det slik:\n\nggplot(data = data, aes(x = continent, fill = continent)) + geom_bar()"
  },
  {
    "objectID": "seminar/seminar3.html#steg-4-legg-til-geom_-etter-behov-en-etter-en.",
    "href": "seminar/seminar3.html#steg-4-legg-til-geom_-etter-behov-en-etter-en.",
    "title": "STV1020",
    "section": "Steg 4: Legg til geom_ etter behov en etter en.",
    "text": "Steg 4: Legg til geom_ etter behov en etter en.\nVi kan legge til flere geom_-elementer i plottet v√•rt ved √• bruke +. Jeg kan for eksempel legge til en linje som indikerer gjennomsnittlig antall observasjoner per land. Da legger vi f√∏rst til en variabel som angir antall observasjoner per land i datasettet. Dette gj√∏r vi ved hjelp av funksjonen add_count():\n\ndata <- data %>%\n    add_count(continent)\n\nVi kan se i datasettet v√•rt at vi har f√•tt en ny variabel n. Denne angir antall observasjoner per kontinent i datasettet v√•rt. For √• legge til en linje som indikerer gjenomsnittlig antall observasjoner bruker vi geom_hline() (h for horisontal linje). I aes() gir vi ggplot informasjon om hvor denne linjen skal krysse y-aksen:\n\nggplot(data = data, aes(x = continent, fill = continent)) + geom_bar() +\n    geom_hline(aes(yintercept = mean(n)))"
  },
  {
    "objectID": "seminar/seminar3.html#steg-5-bruk-funksjoner-til-√•-justere-skala-etiketter-tittel-o.l..",
    "href": "seminar/seminar3.html#steg-5-bruk-funksjoner-til-√•-justere-skala-etiketter-tittel-o.l..",
    "title": "STV1020",
    "section": "Steg 5: Bruk funksjoner til √• justere skala, etiketter, tittel o.l..",
    "text": "Steg 5: Bruk funksjoner til √• justere skala, etiketter, tittel o.l..\nVi kan ogs√• endre teksten p√• x- og y-aksen, og gi plottet en tittel ved √• legge til labs(), fjerne boksen med informasjon om farger og navn p√• h√∏yre side ved hjelp av theme(legend.position = \"none\") og gj√∏re bakgrunnen litt penere med theme_bw():\n\nggplot(data, aes(x = continent, fill = continent)) + geom_bar() +\n    geom_hline(aes(yintercept = mean(n))) + labs(x = \"\", y = \"Antall land-√•r-observasjoner\",\n    title = \"Antall observasjoner per kontinent\", caption = \"Gjennomsnittlig antall observasjoner er gitt ved den horisontale linjen\") +\n    theme_bw() + theme(legend.position = \"none\")\n\n\nDa har vi g√•tt gjennom det helt grunnleggende i ggplot. Dette er en pakke med veldig mange ulike muligheter, og man blir bedre kjent med de for hver gang man bruker den. Jeg anbefaler dere √• pr√∏ve dere fram, og sjekke ut noen av ressursene som jeg linker til i bunnen av dokumentet. Kj√∏r gjerne deler av plottet for √• se hva de ulike linjene gj√∏r, google dere frem osv."
  },
  {
    "objectID": "seminar/seminar3.html#histogrammer",
    "href": "seminar/seminar3.html#histogrammer",
    "title": "STV1020",
    "section": "Histogrammer",
    "text": "Histogrammer\nN√•r vi unders√∏ker ulike plot kan vi skrive plot_le + i stedet for ggplot(data, aes(lifeExp)) + fordi sistnevne informasjon er lagret i f√∏rstnevnte objekt. Dette sparer oss for en del kode. For en kontinuerlig variabel s√• kan det v√¶re mer nyttig med et histogram, som lager stolper for intervaller:\n\nplot_le + geom_histogram()\n\n\nHvis vi ikke sier noe annet, s√• kommer ggplot til √• velge hvor stort hvert intervall skal v√¶re. Vi kan sette hver stolpe til √• v√¶re ett √•r bred ved √• skrive inn binwidth = 1:\n\nplot_le + geom_histogram(binwidth = 1)\n\n\nHvis vi vil se hvordan dette fordeler seg p√• hvert kontinent, s√• kan vi legge inn fill:\n\nplot_le + geom_histogram(aes(fill = continent), binwidth = 1,\n    alpha = 0.5) + theme_bw()\n\n\nDette gir oss en viss oversikt over hvordan forventet levealder varierer mellom kontinentene, men hvis vi vil se n√¶remere p√• dette s√• kan et boxplot for forventet levealder per kontinent v√¶re et bedre alternativ."
  },
  {
    "objectID": "seminar/seminar3.html#boxplot",
    "href": "seminar/seminar3.html#boxplot",
    "title": "STV1020",
    "section": "Boxplot",
    "text": "Boxplot\nfor √• lage et boxplot s√• spesifiserer vi y-aksen ved hjelp av aes(y = continent) i geom_boxplot:\n\nplot_le + geom_boxplot(aes(y = continent))\n\n\nHer er et eksempel p√• hvor mye finere plottet kan bli med litt flere kodelinjer:\n\nplot_le + geom_boxplot(aes(y = continent)) + theme_bw() + labs(title = \"Boxplot for forventet levealder per kontinent\",\n    x = \"Forventet levealder\", y = \"\") + theme(legend.position = \"none\")"
  },
  {
    "objectID": "seminar/seminar3.html#density-plottettshetsplot",
    "href": "seminar/seminar3.html#density-plottettshetsplot",
    "title": "STV1020",
    "section": "Density plot/tettshetsplot",
    "text": "Density plot/tettshetsplot\nEn annen metode kan v√¶re √• bruke et density plot/tetthetsplott:\n\nplot_le + geom_density()\n\n\nInne i parentesen til plottypen kan vi legge til spesifikasjoner om tykkelse p√• linja, farge osv.\n\nplot_le + geom_density(size = 1.5, fill = \"pink\", alpha = 0.3)\n\n\nHva skjer hvis vi endrer 1) alpha til 1 og 2) size til 0.5?\n\nplot_le + geom_density(size = 0.5, fill = \"pink\", alpha = 1)\n\n\nHvis du √∏nsker √• separere plottene, slik at de ulike kontinentene ikke ligger over hverandre, men f√•r hvert sitt plott, s√• kan du legge til en facet_wrap:\n\nplot_le + geom_density(size = 0.5, fill = \"pink\", alpha = 1) +\n    facet_wrap(vars(continent)) + theme_bw()"
  },
  {
    "objectID": "seminar/seminar3.html#spredningsplot",
    "href": "seminar/seminar3.html#spredningsplot",
    "title": "STV1020",
    "section": "Spredningsplot",
    "text": "Spredningsplot\nMed et spredningsplot (scatterplot) kan vi vise sammenhengen mellom to kontinuerlige variabler. Her m√• vi gi ggplot informasjon om hvilken variabel som skal mappes p√• x-aksen og p√• y-aksen. For √• lage scatterplottet bruker vi geom_point.\n\nggplot(data, aes(x = lifeExp, y = gdpPercap)) + geom_point()\n\n\nVi kan legge til en linje som viser gjennomsnittet i observasjonene ved √• bruke geom_smooth:\n\nggplot(data, aes(x = lifeExp, y = gdpPercap)) + geom_point() +\n    geom_smooth()\n\n\nSkille kontinentene fra hverandre ved bruk av ulike farger:\n\nggplot(data, aes(x = lifeExp, y = gdpPercap, col = continent)) +\n    geom_point() + geom_smooth()\n\n\nVi kan legge inn en facet_wrap() for at det skal se litt ryddigere ut, og samtidig gi geom_smooth() en farge som vises bedre.\n\nggplot(data, aes(x = lifeExp, y = gdpPercap, col = continent)) +\n    geom_point() + geom_smooth(colour = \"black\") + facet_wrap(~continent) +\n    theme_bw() + theme(legend.position = \"none\")\n\n\nHer kan vi repetere hvordan vi legger til nye titler til x- og y-aksen, samt tittel for hele plottet:\n\nggplot(data, aes(x = lifeExp, y = gdpPercap, col = continent)) +\n    geom_point() + geom_smooth(colour = \"black\") + facet_wrap(vars(continent)) +\n    labs(x = \"Forventet levealder\", y = \"GDP per capita\", title = \"Et plot med Gapminderdata\") +\n    theme_bw() + theme(legend.position = \"none\")"
  },
  {
    "objectID": "proveinfo.html",
    "href": "proveinfo.html",
    "title": "STV1020",
    "section": "",
    "text": "Nei.\n\n\n\nNei.\n\n\n\n[TBD! Vi jobber med l√∏sning p√• dette.]\n\n\n\n\n\n\n\n\n\n\n[TBD! Vi har ikke bestemt dette enda.]\n\n\n\nDu skal levere et R-script med koden din og kommentarer. Du skal ikke laste opp figurer og tabeller. Seminarleder kj√∏rer scriptet ditt og vil p√• den m√•ten se om koden for en figur eller tabell er riktig.\n\n\n\nJa, du st√•r fritt til √• bruke alle hjelpemidler. Det inkluderer seminarmateriellet som er tilgjengelig p√• github, notater du har tatt i seminar og google. Det kan v√¶re lurt √• gj√∏re seg kjent med beskrivelsene av de ulike seminarene i forkant av pr√∏ven s√• du vet hvor du skal sl√• opp.\n\n\n\nJa, dere har lov til √• samarbeide og diskutere oppgavene med medstudenter, men alle m√• levere sitt eget script med egne kommentarer.\n\n\n\nNei. P√• pr√∏ven er det spesifisert hvor mange poeng du m√• f√• for √• best√•.\n\n\n\nHvis du er syk s√• m√• du s√∏ke om utsatt obligatorisk aktivitet her: https://www.uio.no/studier/eksamen/obligatoriske-aktiviteter/sv-fraver-fra-obligatorisk-aktivitet.html\nDersom du f√•r godkjent utsatt obligatorisk aktivitet s√• vil du f√• en ny pr√∏vedato.\n\n\n\nHusk √• laste inn de n√∏dvendige pakkene ved hjelp av library(). Gj√∏r det f√∏rst i scriptet s√• er du ferdig med det. Om du ikke vet hvilken funksjon du skal bruke for √• l√∏se en oppgave s√• sl√• opp i materiale eller s√∏k p√• nett.\nOm en kodesnutt ikke vil kj√∏re s√•:\n\nlast inn n√∏dvendige pakker igjen.\nkj√∏r all koden f√∏r kodesnutten p√• ny.\npr√∏v √• forst√• feilmeldingen. F√•r du f.eks. en feilmelding som sier ‚Äúcould not find function‚Äù s√• kan dette tyde p√• at du kanskje har skrevet funksjonsnavnet feil eller at du m√• laste inn pakken funksjonen ligger i med library() f√∏rst. F√•r du en feilmelding om at ‚Äúobject x not found‚Äù s√• kan dette tyde p√• at du har en skrivefeil i navnet p√• f.eks. et datasett eller et modellnavn.\nom dette ikke virker s√• g√• videre og kom tilbake til oppgaven senere dersom du har tid. Da kan du s√∏ke p√• nett e.l. etter en l√∏sning."
  }
]